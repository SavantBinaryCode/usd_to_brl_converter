<!DOCTYPE html>
<html lang="en" class="light">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>USD to BRL Converter</title>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

  <link rel="stylesheet" href="css/style.css">

  <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
</head>
<body class="light-theme">

  <div class="d-flex justify-content-center align-items-center full-height-container">
    <div class="text-center">
      <header class="container text-center py-5">
        <h1 class="mb-4">USD/BRL Conversor</h1>
        <div class="switch-container">
          <span class="light-icon" aria-label="Light Mode">ðŸŒž</span>
          <label class="switch">
            <input type="checkbox" id="themeToggle" aria-label="Toggle Dark Mode">
            <span class="slider"></span>
          </label>
          <span class="dark-icon" aria-label="Dark Mode">ðŸŒœ</span>
        </div>
      </header>

      <main class="container text-center">
        <section class="d-flex flex-column align-items-center gap-3 mt-3">
          <button class="btn btn-primary btn-lg custom-modal-button" data-bs-toggle="modal" data-bs-target="#converterModal">
            Abrir Conversor
          </button>
          <button class="btn btn-primary btn-lg custom-modal-button" data-bs-toggle="modal" data-bs-target="#historicalModal">
            Historico USD/BRL
          </button>
        </section>
      </main>
    </div>
  </div>

  <section aria-labelledby="converterModalLabel" role="dialog" class="modal fade" id="converterModal" tabindex="-1">
    <div class="modal-dialog">
      <div class="modal-content">
        <header class="modal-header">
          <h2 class="modal-title" id="converterModalLabel">Currency Converter</h2>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </header>
        <div class="modal-body">
          <form id="converterForm">
            <div class="mb-3">
              <label for="usdAmount" class="form-label">Valor em USD</label>
              <input type="number" class="form-control" id="usdAmount" placeholder="Enter USD amount">
            </div>
            <div class="mb-3">
              <label for="bankSpread" class="form-label">Spread BancÃ¡rio (%)</label>
              <input type="number" class="form-control" id="bankSpread" placeholder="Enter bank spread in %">
            </div>
            <button type="submit" class="btn btn-invalid w-100">Convert</button>
          </form>
          <div id="result" class="mt-4"></div>
        </div>
      </div>
    </div>
  </section>

  <section aria-labelledby="historicalModalLabel" role="dialog" class="modal fade" id="historicalModal" tabindex="-1">
    <div class="modal-dialog modal-lg">
      <div class="modal-content">
        <header class="modal-header">
          <h2 class="modal-title" id="historicalModalLabel">Historical USD/BRL Rates</h2>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </header>
        <div class="modal-body">
          <form id="historicalForm">
            <label for="periodSelect" class="form-label">Selecionar Periodo</label>
            <select id="periodSelect" class="form-select mb-3" required>
              <option value="7">Ultimos 7 Dias</option>
              <option value="14">Ultimos 14 Dias</option>
              <option value="30">Ultimos 30 Dias</option>
            </select>
            <button type="submit" class="btn btn-primary w-100">Gerar RelatÃ³rio</button>
          </form>
          <div id="chart" class="mt-6"></div>
          <div id="historicalResult" class="mt-4"></div>
          <div id="pdfActions" class="mt-3 text-center">
            <button id="downloadPdf" class="btn btn-secondary" hidden>Download as PDF</button>
          </div>
        </div>
      </div>
    </div>
  </section>

  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <script src="js/utils/DateUtils.js"></script>
  <script src="js/ApiService.js"></script>
  <script src="js/Converter.js"></script>
  <script src="js/HistoricalData.js"></script>
  <script src="js/ThemeManager.js"></script>
  <script src="js/ModalManager.js"></script>
  <script src="js/main.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/jspdf-autotable"></script>
</body>
</html>
